<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Frequently Asked Questions - OSG Networking Area</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  <link href="../../css/extra.css" rel="stylesheet">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Frequently Asked Questions";
    var mkdocs_page_input_path = "perfsonar/faq.md";
    var mkdocs_page_url = "/perfsonar/faq/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> OSG Networking Area</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">OSG Networking Area</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Network Monitoring (perfSONAR)</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../perfsonar-in-osg/">Motivation</a>
                </li>
                <li class="">
                    
    <a class="" href="../deployment-models/">Deployment</a>
                </li>
                <li class="">
                    
    <a class="" href="../installation/">Installation and Maintenance</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">Frequently Asked Questions</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#frequently-asked-questions">Frequently Asked Questions</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#network-troubleshooting">Network Troubleshooting</a></li>
        
            <li><a class="toctree-l4" href="#infrastructure-monitoring-check95mk-metrics">Infrastructure Monitoring (check_mk metrics)</a></li>
        
        </ul>
    

    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Network Troubleshooting</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../network-troubleshooting/">Network Troubleshooting</a>
                </li>
                <li class="">
                    
    <a class="" href="../../network-troubleshooting/osg-debugging-document/">OSG Network Debugging Document</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Network Services</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../psetf/">Infrastructure Monitoring</a>
                </li>
                <li class="">
                    
    <a class="" href="../../osg-network-services/">Network Datastore and Streaming</a>
                </li>
                <li class="">
                    
    <a class="" href="../../osg-network-analytics/">Network Analytics</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">OSG Networking Area</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Network Monitoring (perfSONAR) &raquo;</li>
        
      
    
    <li>Frequently Asked Questions</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/opensciencegrid/networking/edit/master/docs/perfsonar/faq.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h3 id="frequently-asked-questions">Frequently Asked Questions<a class="headerlink" href="#frequently-asked-questions" title="Permanent link">&para;</a></h3>
<p>Here we will provide details on troubleshooting perfSONAR installations for OSG and WLCG as well as some additional configuration options and a FAQ.</p>
<p>A good overview of existing tools provided by perfSONAR toolkit and examples how to use them to identify and isolate network problems can be found at https://fasterdata.es.net/performance-testing/troubleshooting/network-troubleshooting-quick-reference-guide/</p>
<p>We are maintaining a <a href="network-troubleshooting.md">Network Troubleshooting</a> page to guide users in identifying and following up on network problems.</p>
<h4 id="network-troubleshooting">Network Troubleshooting<a class="headerlink" href="#network-troubleshooting" title="Permanent link">&para;</a></h4>
<ul>
<li>I suspect there is a network performance issue impacting my site</li>
</ul>
<p>For OSG sites, please open a ticket with GOC. Otherwise please open a GGUS ticket (or assign an existing) one to WLCG Network Throughput support unit.</p>
<h4 id="infrastructure-monitoring-check95mk-metrics">Infrastructure Monitoring (check_mk metrics)<a class="headerlink" href="#infrastructure-monitoring-check95mk-metrics" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>perfSONAR services: versions</strong> metric is failing.</li>
</ul>
<p>This metrics checks if your sonar is at the most recent version. Please check if you have automatic yum updates enabled, this is strongly recommended due to security issues we have seen in the past. In case you're still running an older version (3.3-3.5), please update and reconfigure as soon as possible following <a href="../installation/">Installation Guide</a> </p>
<ul>
<li><strong>perfSONAR configuration: contacts or location</strong> metrics are failing </li>
</ul>
<p>Please check if you have added the administrative information as detailed <a href="http://docs.perfsonar.net/install_config_first_time.html#updating-your-administrative-information">here</a></p>
<ul>
<li><strong>perfSONAR services: bwctl/owamp/pscheduler</strong> metrics are failing</li>
</ul>
<p>This means that we're unable to connect to controller ports of the respective services, please ensure you have correct firewall settings (especially white listed subnets allowed) as described in the <a href="../installation/">Installation Guide</a> . This can also indicate failures of service daemons, please check <a href="http://www.perfsonar.net/about/faq">http://www.perfsonar.net/about/faq</a> for additional details.</p>
<ul>
<li><strong>perfSONAR services: esmond</strong> metric is failing</li>
</ul>
<p>This means that your measurement archive is not accessible or failing, there can be many possible causes (disk full, httpd not running or inaccessible, etc.), you can ask for help by opening a GGUS ticket to WLCG perfSONAR support. </p>
<ul>
<li>
<p><strong>perfSONAR json summary</strong> is failing</p>
<ul>
<li>This means the toolkit's homepage is inaccessible, which is required to check many additional services, so in turn all the other metrics will likely be in unknown or critical state. Please check for usual causes (disk full, httpd not running or blocked), we need to be able to access your homepage via HTTP or HTTPS </li>
</ul>
</li>
<li>
<p><strong>perfSONAR configuration: meshes</strong> metric is failing</p>
</li>
</ul>
<p>This indicates that you're missing the recommended mesh configuration. Please follow mesh configuration as detailed in the <a href="../installation/">installation guide</a>. Also, please REMOVE any old mesh configuration, this metric will also fail in case you have both the new mesh config and the old mesh URLs </p>
<ul>
<li><strong>perfSONAR services: ntp</strong> is failing</li>
</ul>
<p>This indicates that NTP service is not running correctly on your sonar, please note that NTP is critical service. Please refer to <a href="http://www.perfsonar.net/about/faq/">http://www.perfsonar.net/about/faq/</a></p>
<ul>
<li><strong>perfSONAR services: regular testing/pscheduler</strong> is failing</li>
</ul>
<p>This indicates that pscheduler is not working correctly. As this is the core daemon please contact WLCG perfSONAR support unit for help.</p>
<ul>
<li>There are <strong>many tests failing</strong> for given sonar, where should I start</li>
</ul>
<p>Please update and reconfigure your sonar following <a href="../installation/">Installation Guide</a>. Please ensure firewall doesn't block access from the whitelisted subnets that are required for the infrastructure monitoring to work. </p>
<ul>
<li><strong>Where can I get support on managing WLCG perfSONAR</strong> ?</li>
</ul>
<p>You can open ticket in GGUS to WLCG perfSONAR support unit or contact directly wlcg-perfsonar-support (at cern.ch) </p>
<ul>
<li><strong>perfSONAR esmond freshness Latency/Bandwidth Direct</strong> is failing or gives warning</li>
</ul>
<p>This metric checks freshness of the local measurement archive, in particular it checks if it contains fresh results for all the configured tests. This metric is needed to determine if we're able to consistently get results from perfSONAR boxes in WLCG. Currently it's a non-critical test, you can ignore it. </p>
<ul>
<li><strong>perfSONAR services ndt/npad</strong> is failing</li>
</ul>
<p>Both metrics check if you have disabled NDT and NPAD. As both NDT and NPAD have been dropped starting with 4.0, this metrics should stay green in most of the cases. </p>
<ul>
<li><strong>perfSONAR hardware check</strong> is failing</li>
</ul>
<p>Please consult the minimum and recommended <a href="../deployment-models/">hardware requirements</a>. </p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../network-troubleshooting/" class="btn btn-neutral float-right" title="Network Troubleshooting">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../installation/" class="btn btn-neutral" title="Installation and Maintenance"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/opensciencegrid/networking/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../installation/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../../network-troubleshooting/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/require.js"></script>
      <script src="../../search/search.js"></script>

</body>
</html>
